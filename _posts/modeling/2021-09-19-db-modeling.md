---
title:  "[DB modeling] 데이터베이스 모델링기초"

categories:
  - modeling
tags:
  - [RDBMS, DB,modeling]

toc: true
toc_sticky: true


---

# DB modeling 기본 정리
개인적으로 공부하면서 참조하려고 만든 포스트입니다.
유튜브 시니어코딩님의 강의를 참고하였습니다.


## S/W Development

1. 계획 / 기획 (interview)
2. 분석 및 Ideation
3. UI / UX 설계
4. **DB 설계(모델링)**
5. S/W 및 인프라(Infra) 설계
6. 구현
7. 테스트 및 통합
8. 오픈(Release)
9. 유지보수(운영)


## DB Modeling

1. 개념적(Conceptual, Contextual) 모델링 => Entity 도출
2. 논리적(Logical) 모델링 
   1. Data 구조 및 속성 정의
   2. 무결성 정의 및 정규화(Normal Form, NF)
3. 물리적(Physical) 모델링
   1. Schema, Table, Index 생성
<br>

<br>
대기업 및 큰 기업에는 DBA 직군이있지만, 일반적인 스타트업 및 중소기업은 서버개발자가 DB 설계까지 도맡는 경우가 많다.
이때 처음에 DB Modeling 을 잘해두면 나중에 편하게 개발을 할 수 있다. **모든 문제는 잘못된 데이터 모델링으로부터 시작된다**
그러므로 모델링 단계에서 시간을 많이 투자하는것이 좋다.
<br>

## 정규화(Normal Form, NF)
**정규화**의 목적, 목표
`중복 데이터를 없애고 관계를 단순하게 가져 간다`

제1정규화(1NF) : 원자성 
- 모든 속성은 하나의 값만 갖는다! 
- 모든 컬럼은 하나의 값만 갖는다.
- 물건이라는 Column에 공동소유자 홍길동과 김길동이 있다면 한 컬럼에 홍길동,김길동 이라고 적는것이아닌 두 컬럼으로 나누어서 홍길동과 김길동을 분리시킨다.

제2정규화(2NF) : 완전 함수적 종속(부분 종속 제거)
- 모든 속성은 기본키에 종속되어야 한다! 
- 만약 계약테이블에 임대인의 연락처가 있다면 잘못된것이다. 임대인의 연락처는 임대인이라는 테이블에 종속되어있어야한다.
- 테이블에 알맞게 테이블에 관련있는 Column만 두자! 라는것이다.

제3정규화(3NF) : 이행 종속 제거
- 기본키가 아닌 모든 속성 간에는 서로 종속될 수 없다!
- ![image](https://user-images.githubusercontent.com/69495129/133893554-9e81e538-34a0-45e0-9849-61a54cd5354d.png)
- 판매자 전화번호는 판매자와 관련되어있고, 상품아이디에 의해서는 결정되지 않는다.
- 그렇다면 판매자 테이블을 따로 분리시켜야한다.

정규화를 하다보면, 퍼포먼스 상 문제가 일어날 수도있다 이때 반(역) 정규화를 시도한다. 반 정규화도 여러가지 종류가있다.
- 테이블 반 정규화
  - 분리한 테이블이 항상 JOIN해서 나오는 경우 테이블을 병합
- 컬럼 반 정규화
  -   010-1111-2222 를 컬럼1개에 집어넣을것인지, 3개로 집어넣을것인지 
  -   전화번호 끝자리만 필요한 경우가 있다. 
  -   연락처 전체가 서비스에서 필요한 경우 컬럼을 굳이 3개로 나눌 필요가없고 합친다.
  -   이렇게 Column을 합치는 것을 컬럼 반 정규화 라고 한다.
- 관계 반 정규화
  
<br>
반 정규화는 데이터를 유지하는데 어렵다. 그러므로 데이터 유지 계획이 필수적이다.

## 모델링 기법(요령)
1. PK(기본키) 가 가장 중요하다
  - 유일값을 갖는 기본키 필수
  - 변경이 없는 안정적인 값, Not null
  - 가능한 1개 컬럼, 실수형 보다는 정수형(auto-increment)
2. 적절한 정규화를 하자
  - 1NF(원자성)을 준수하고 최대한 중복 데이터가 없도록 한다.
  - 계산 결과 컬럼을 사용하는것을 지양하자.
  - Nullable 할 필요가 굳이 없다면 Not Null Coulmn 으로 유지하는것이 일관된다.
3. 참조(데이터) 무결성을 위해 FK을 정의한다.
4. 서로 다른 성격의 컬럼들은 테이블을 분리한다.



***
<br>

    🌜 주관적인 견해가 담긴 글입니다. 다양한 의견이 있으실 경우
    언제든지 댓글 혹은 메일로 지적해주시면 감사하겠습니다! 😄

[맨 위로 이동하기](#){: .btn .btn--primary }{: .align-right}

