---
title: "[react] @testing-library 쿼리 함수에 대해서"

categories:
  - reactjs
tags:
  - [react, test, testing-library]

toc: true
toc_sticky: true

date: 2022-06-03
---

# 쿼리 함수에 대해서..

헷갈렸고 앞으로 또 헷갈릴것 같아서 정리해둡니다. 자주사용해서 익숙해져야 합니다.

## 쿼리 함수란?

쿼리는 페이지에서 요소를 찾기 위해 테스트 라이브러리가 제공하는 방법입니다.
여러 유형의 쿼리('get','find','query') 가 있습니다. 이들 간의 차이점은 요소가 발견되지 않으면 쿼리에서 오류가 발생하거나 또는 Promise를 반환하고 다시 시도하는지 입니다. 선택하는 페이지 콘텐츠에 따라 다른 쿼리가 다소 적절할 수 있습니다. 아직 실무에서는 테스트 코드를 작성해보지 않아서, 적절한 상황에 적절한 쿼리를 사용할 수 있는 능력을 길러야합니다.

### getBy

쿼리에 대해 일치하는 노드를 반환하고 일치하는 요소가 없거나 둘 이상의 일치가 발견되면 설명 `오류를 발생`시킵니다. (둘 이상의 요소가 예상되는 경우 대신 getAllBy 사용)

### queryBy

쿼리에 대해 일치하는 노드를 반환하고 일치하는 요소가 없으면 `null`을 반환합니다. 이것은 존재하지 않는 요소를 어설션하는데 유용합니다. 둘 이상의 일치 항목이 발견되면 오류가 발생합니다. (확인된 경우 queryAllBy 사용)

### findBy

주어진 쿼리와 일치하는 요소가 발견되면 해결되는 `Promise`를 반환합니다. 요소가 발견되지 않거나 기본 제한 시간인1000ms 후에 둘 이상의 요소가 발생되면 약속이 거부됩니다. (둘 이상의 요소를 찾아야 하는 경우 findAllBy를 사용합니다.)

![image](https://user-images.githubusercontent.com/69495129/171786149-00f2235c-268f-40c4-828d-be1dd00728e0.png)
John-ahn 님의 따라하는 리액트 테스트 강의

### waitFor

일정 기간 동안 기다려야 할 때 waitFor 를 사용하여 기대가 통과할 때까지 기다릴 수 있습니다.

---

<br>

    🌜 주관적인 견해가 담긴 글입니다. 다양한 의견이 있으실 경우
    언제든지 댓글 혹은 메일로 지적해주시면 감사하겠습니다! 😄

[맨 위로 이동하기](#){: .btn .btn--primary }{: .align-right}
